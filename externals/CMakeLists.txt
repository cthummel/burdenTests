include(ExternalProject)

SET(BURDEN_TEST_DEPENDANCIES)
include(gsl.cmake)
LIST(APPEND BURDEN_TEST_DEPENDANCIES ${GSL_PROJECT})
include(htslib.cmake)
LIST(APPEND BURDEN_TEST_DEPENDANCIES ${HTSLIB_PROJECT})
include(bcftools.cmake)
LIST(APPEND BURDEN_TEST_DEPENDANCIES ${BCFTOOLS_PROJECT})
#include(bedtools.cmake)
#LIST(APPEND BURDEN_TEST_DEPENDANCIES ${BEDTOOLS_PROJECT})
#if(OPENMP_NOTFOUND)
	MESSAGE("OpenMP was not found.")
	include(openmp.cmake)
	LIST(APPEND BURDEN_TEST_DEPENDANCIES ${OPENMP_PROJECT})
#endif()


SET(BURDEN_TEST_SOURCE_DIR ${CMAKE_CURRENT_SOURCE_DIR}/external CACHE INTERNAL "" FORCE)

SET(BURDEN_TEST_EXTERNAL_PROJECT_DIR ${CMAKE_BINARY_DIR}/externals/burden_test_external_project CACHE INTERNAL "external project directory")
SET(BURDEN_TEST_EXTERNAL_PROJECT burden_test_project CACHE INTERNAL "all burden_test external projects")
ExternalProject_Add(${BURDEN_TEST_EXTERNAL_PROJECT}
	DEPENDS ${BURDEN_TEST_DEPENDANCIES}
	DOWNLOAD_COMMAND ""
	SOURCE_DIR ${BURDEN_TEST_SOURCE_DIR}
	BINARY_DIR ${BURDEN_TEST_EXTERNAL_PROJECT_DIR}/bin
	INSTALL_COMMAND ""
	UPDATE_COMMAND ""
	CMAKE_CACHE_ARGS
		-DCMAKE_C_COMPILER:STRING=${CMAKE_C_COMPILER}
		-DCMAKE_CXX_COMPILER:STRING=${CMAKE_CXX_COMPILER}
)
